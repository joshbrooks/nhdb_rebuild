// Generated by CoffeeScript 1.10.0
(function() {
  window.TranslationStore = function() {
    var self;
    riot.observable(this);
    self = this;
    self.strings = {};
    self.on('load_translations', function() {
      var request, url;
      url = Urls['jsontag:translations']();
      request = $.get(url);
      return request.done(function() {
        var i, j, len, ref, results;
        ref = request.responseJSON;
        results = [];
        for (j = 0, len = ref.length; j < len; j++) {
          i = ref[j];
          results.push(self.strings[i.object_id] = i);
        }
        return results;
      });
    });
    return self.on('get_trans', function(translation_id) {
      return self.strings[translation_id].translation;
    });
  };

}).call(this);

//# sourceMappingURL=translationstore.js.map
